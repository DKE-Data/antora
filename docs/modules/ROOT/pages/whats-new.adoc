= What's New in Antora {page-component-version}
:doctype: book
:url-releases-asciidoctor: https://github.com/asciidoctor/asciidoctor/releases
:url-releases-asciidoctorjs: https://github.com/asciidoctor/asciidoctor.js/releases
:url-gitlab: https://gitlab.com
:url-git-antora: {url-gitlab}/antora/antora
:url-issues: {url-git-antora}/issues
:url-milestone-3-0-0: {url-issues}?scope=all&state=closed&label_name%5B%5D=%5BVersion%5D%203.0.0
:url-mr: {url-git-antora}/merge_requests

IMPORTANT: The added features and changes described below are in *ALPHA* and subject to change.

= Antora 3.0.0-dev

_**Release date:** Pending | *Issue label:* {url-milestone-3-0-0}[3.0.0^]_

[#deprecation]
== Antora 3.0 deprecations and breaking changes

The following deprecations and breaking changes will be final with the release of Antora 3.0.0.

=== Syntax

The ability to use parent references in the target of the AsciiDoc image macro (e.g., `image::../../../module-b/_images/image-filename.png[]`) will be removed in Antora 3.0.
You should begin replacing any such image targets with resource IDs.

Antora has added the _.adoc_ file extension to a xref:page:page-id.adoc#id-coordinates[page coordinate] in page aliases and xrefs whenever it wasn't specified by the writer.
This fallback mechanism will be deprecated in Antora 3.0 to make way for using non-AsciiDoc pages in the xref facility.
You should review the page IDs in your xrefs and `page-aliases` attributes to ensure the _.adoc_ extension is specified.

=== Supported Platforms

Support for Node 8 has been dropped.

=== API

The `classifyContent` function will expect the site-wide AsciiDoc config as the third argument.

The following deprecated methods will be removed from the `ContentCatalog`: `getComponentMap`, `getComponentMapSortedBy`, and `getFiles`.

//== Highlights

== Resolved issues

IMPORTANT: The added features and changes described below are in *ALPHA* and subject to change.

=== Added
//as of 9/22
// Issue {url-issues}/613[#613^]::

Issue {url-issues}/605[#605^]:: Extract method to register start page for component version (`ContentCatalog#registerComponentVersionStartPage`).
Issue {url-issues}/425[#425^]:: Assign primary alias to `rel` property on target page.
Issue {url-issues}/314[#314^]:: Add `urls.latest_version_segment_strategy`, `urls.latest_version_segment`, and `urls.latest_prerelease_version_segment` keys to playbook schema.
Replace latest version and/or prerelease version segment in out path and pub URL (unless version is master) with symbolic name, if specified.
Define `latestPrerelease` property on component version (if applicable) and use when computing latest version segment.
Use redirect facility to implement redirect:to and redirect:from strategies for version segment in out path / pub URL of latest and latest prerelease versions.

=== Changed
//as of 9/22
//Issue {url-issues}/597[#597^]::

Issue {url-issues}/681[#681^]:: Don't use global git credentials path if custom git credentials path is specified, but does not exist.
Issue {url-issues}/680[#680^]:: Show sensible error message if cache directory cannot be created.
Issue {url-issues}/679[#679^]:: Drop support for Node.js 8 and set minimum required version to 10.
Issue {url-issues}/605[#605^]:: Only register start page for component version in `ContentCatalog#registerComponentVersion` if value of `startPage` property in descriptor is truthy.
Call `ContentCatalog#registerComponentVersionStartPage` in content classifier to register start page after adding files (instead of before).
Issue {url-issues}/598[#598^]:: Upgrade dependencies.
Issue {url-issues}/425[#425^]:: Follow aliases when computing version lineage for page and canonical URL in UI model.
Issue {url-issues}/314[#314^]:: Register all component versions before adding files to content catalog.

=== Fixed
//as of 9/22
// Issue {url-issues}/613[#613^]::

////
[#thanks-3-0-0]
== Thanks

Most important of all, a huge *thank you!* to all the folks who helped make Antora even better.

We want to call out the following people for making contributions to this release:
////

// Contributors
////
({url-issues}/553[#553^])
({url-mr}/405[!405^])

Antonio ({url-gitlab}/bandantonio[@bandantonio^])::
Karl Dangerfield ({url-gitlab}/obayozo[@obayozo^])::
Rob Donnelly ({url-gitlab}/rfdonnelly[@rfdonnelly^])::
Ewan Edwards ({url-gitlab}/eedwards[@eedwards^])::
James Elliott ({url-gitlab}/DeepSymmetry[@DeepSymmetry^])::
gotwf ({url-gitlab}/gotwf[@gotwf^])::
Guillaume Grossetie ({url-gitlab}/g.grossetie[@g.grossetie^])::
Chris Jaquet ({url-gitlab}/chrisjaquet[@chrisjaquet])::
David Jencks ({url-gitlab}/djencks[@djencks^])::
Jared Morgan ({url-gitlab}/jaredmorgs[@jaredmorgs^])::
Daniel Mulholland ({url-gitlab}/danyill[@danyill^])::
Alexander Schwartz ({url-gitlab}/ahus1[@ahus1^])::
Ben Walding ({url-gitlab}/bwalding[@bwalding^])::
Coley Woyak ({url-gitlab}/coley.woyak.saagie[@coley.woyak.saagie^])::
Anthony Vanelverdinghe ({url-gitlab}/anthonyv.be[@anthonyv.be^])::
////
